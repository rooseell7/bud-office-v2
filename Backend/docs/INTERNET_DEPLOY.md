# BUD Office — тестовий доступ через Інтернет (static IP + port forwarding)

Ціль: відкрити систему з іншого ПК через Інтернет **без домену** — через статичну IP + переадресацію порту.

## 0) Перевірка: це точно публічна IP
1. На ПК відкрий сервіс “What is my IP” — має показувати **95.47.196.98**.
2. У веб-інтерфейсі роутера ASUS у статусі WAN має бути **WAN IP = 95.47.196.98**.

Якщо в ASUS WAN IP інший (наприклад `100.xx...`), то це CGNAT і доступ з Інтернету не запрацює, доки провайдер не видасть публічну IP.

## 1) Як запускати систему (рекомендовано)
### Варіант А: один порт (backend + frontend зібраний)
Це найбільш стабільний шлях.

1) **Frontend**
- У фронтенді з STEP_10:
  - `.env.production` має містити `VITE_API_URL=/api`
  - виконай:
    - `npm i`
    - `npm run build`
- Отримаєш папку: `dist/`

2) **Backend**
- Скопіюй вміст `frontend/dist` у `backend/public` (щоб існували `public/index.html`, `public/assets/...`).
- У бекенді:
  - `npm i`
  - `npm run build`
  - `npm run start:prod`

3) **Доступ**
- Локально у офісі: `http://192.168.50.162:3000`
- З іншого ПК через Інтернет: `http://95.47.196.98:3000`

## 2) Налаштування .env для бекенда
У `.env` (або у змінних середовища) встанови:
- `APP_HOST=0.0.0.0`
- `APP_PORT=3000`
- `STATIC_DIR=public`
- `CORS_ORIGINS=*`  (для тесту)

Примітка: якщо ти хочеш більш жорстко, можна замість `*` вказати:
`CORS_ORIGINS=http://95.47.196.98:3000,http://192.168.50.162:3000`

## 3) Переадресація порту на ASUS
ASUS → (залежить від мови UI):
- **WAN** → **Virtual Server / Port Forwarding**

Додай правило:
- Service Name: `BUD_OFFICE_3000`
- Port Range: `3000`
- Local IP: `192.168.50.162`
- Local Port: `3000`
- Protocol: `TCP`

Перевір:
- На роутері увімкнений NAT.
- ПК має **статичну локальну IP** або DHCP reservation (щоб `192.168.50.162` не змінився).

## 4) Windows Firewall (обовʼязково)
На ПК з бекендом відкрий порт 3000:
- Windows Defender Firewall → Advanced settings → Inbound Rules → New Rule → Port → TCP 3000 → Allow.

Швидкий тест локально:
- `curl http://localhost:3000/` має повернути HTML (якщо frontend скопійований у `public`).

## 5) Перевірка з зовнішнього ПК
На ПК поза офісною мережею:
- відкрий `http://95.47.196.98:3000`

Якщо не відкривається:
- перевір WAN IP у роутері;
- перевір чи порт 3000 не блокує провайдер;
- перевір firewall;
- перевір, що бекенд реально слухає `0.0.0.0:3000`.

## 6) Мінімальні рекомендації безпеки (на тест)
- Не використовуй admin-пароль простий.
- Якщо відкриваєш назовні надовго — краще поставити reverse-proxy з HTTPS.

Найпростіше без домену:
- залишити HTTP на тест;
- або підняти **Cloudflare Tunnel** / **Tailscale** (без port forwarding), якщо захочеш швидко і безпечно.
